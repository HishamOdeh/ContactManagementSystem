<div class="d-flex justify-space-between mb-2">
    <div>
        @if (!string.IsNullOrEmpty(Title))
        {
            <MudText Typo="TitleTypo">@Title</MudText>
        }
        @if (!string.IsNullOrEmpty(Subtitle))
        {
            <MudText Typo="Typo.h5">
                @Subtitle
                @if (Status != null)
                {
                    <MudChip Color="StatusChipColor" Size="Size.Small" Class="ml-3 mb-2">@Status</MudChip>
                }
            </MudText>
        }
    </div>
    @if (OnBack != null)
    {
        <MudFab Icon="@Icons.Material.Filled.ArrowBack" IconSize="Size.Small" OnClick="NavigateBack" />
    }
</div>
<div class="d-flex mb-2">
    @EpiViewTitleBarContent
</div>

<MudGrid Class="d-flex flex-row-reverse">
    <MudItem xs="12" sm="12" md="3" lg="3" xl="3">
        @EpiViewSide
    </MudItem>
    <MudItem xs="12" sm="12" md="9" lg="9" xl="9" Class="mb-12">
        @EpiViewMain
    </MudItem>
</MudGrid>

@code {
    [Parameter] public RenderFragment EpiViewMain { get; set; }
    [Parameter] public RenderFragment EpiViewSide { get; set; }
    [Parameter] public RenderFragment EpiViewTitleBarContent { get; set; }
    [Parameter] public Action OnBack { get; set; }
    [Parameter] public string Status { get; set; }
    [Parameter] public Color StatusChipColor { get; set; }
    [Parameter] public string Subtitle { get; set; }
    [Parameter] public string Title { get; set; }
    [Parameter] public Typo TitleTypo { get; set; } = Typo.h6;

    private void NavigateBack() => OnBack();
}